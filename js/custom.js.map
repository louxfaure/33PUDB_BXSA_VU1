{"version":3,"sources":["node_modules/browser-pack/_prelude.js","primo-explore/custom/33PUDB_BXSA_VU1/js/main.js","primo-explore/custom/33PUDB_BXSA_VU1/js/prmBriefResultContainerAfter/linkToExternalSearchSystem.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_linkToExternalSearchSystem","app","angular","component","linkToExternalSearchSystemConfig","linkToExternalSearchSystemController","$scope","$window","favSession","_classCallCheck","this","console","log","parentCtrl","storageUtil","localStorage","testLocal","lastResult","searchStateService","resultObject","info","last","resultIndex","index","isExpanded","getItem","showExternalSiteList","setItem","queryTerm","encodeURIComponent","searchService","searchFieldsService","_mainSearch","$inject","bindings","controller","template"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCAA,IAAAK,EAAAX,EAAA,6DACIY,EAAMC,QAAQH,OAAO,aAAa,IAClCE,GACAA,EAAIE,UAAU,+BAAgCH,EAAAI,kbCC5CC,aACF,SAAAA,EAAYC,EAAQC,EAASC,gGAAWC,CAAAC,KAAAL,GACpCM,QAAQC,IAAIF,KAAKG,WAAWC,YAAYC,aAAaC,WACrDL,QAAQC,IAAI,wDACZ,IAAIK,EAAaP,KAAKG,WAAWK,mBAAmBC,aAAaC,KAAKC,KAClEC,EAAcZ,KAAKG,WAAWU,MAClCZ,QAAQC,IAAIF,KAAKG,WAAWK,mBAAmBC,aAAaC,MAC5DT,QAAQC,IAAIF,MACRY,GAAeL,GAA4C,GAA9BP,KAAKG,WAAWW,YAEsC,SAAjFd,KAAKG,WAAWC,YAAYC,aAAaU,QAAQ,+BACnDf,KAAKgB,sBAAuB,EAC5BhB,KAAKG,WAAWC,YAAYC,aAAaY,QAAQ,4BAA4B,SAIjFhB,QAAQC,IAAI,aAAeU,EAAc,MAASL,GAElDX,EAAOsB,UAAYC,mBAAmBnB,KAAKG,WAAWiB,cAAcC,oBAAoBC,0EAI1FrB,QAAQC,IAAI,qEACZF,KAAKgB,sBAAuB,EAC5BhB,KAAKG,WAAWC,YAAYC,aAAaY,QAAQ,4BAA4B,kBAMjFtB,EAAqC4B,QAAU,CAAC,SAAU,aAAc,YAC7DtC,EAAAS,iCAAmC,CAC5C8B,SAAU,CAACrB,WAAW,KACtBsB,WAAY9B,EACZ+B","file":"custom.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import {linkToExternalSearchSystemConfig} from './prmBriefResultContainerAfter/linkToExternalSearchSystem'\nlet app = angular.module('viewCustom',[]);\nif (app){\n    app.component('prmBriefResultContainerAfter', linkToExternalSearchSystemConfig);\n} \n\n","/*[33PUDB_NETWORK_AFA] - Customisation de la toplevel facette  */\n/*Suprime les entrÃ©es 'peer_reviewed','open_access'et'available'*/\n\nimport linkToExternalSearchSystem from './linkToExternalSearchSystem.html'\nclass linkToExternalSearchSystemController {\n    constructor($scope, $window, favSession){\n        console.log(this.parentCtrl.storageUtil.localStorage.testLocal)\n        console.log('----> 33PUDB linkToExternalSearchSystemController');\n        var lastResult = this.parentCtrl.searchStateService.resultObject.info.last;\n        var resultIndex = this.parentCtrl.index;\n        console.log(this.parentCtrl.searchStateService.resultObject.info);\n        console.log(this);\n        if (resultIndex == lastResult && this.parentCtrl.isExpanded == false) {\n          // this.setData('true');\n          if (this.parentCtrl.storageUtil.localStorage.getItem('viewExternalSearchMessage') != 'false'){\n            this.showExternalSiteList = true;\n            this.parentCtrl.storageUtil.localStorage.setItem('viewExternalSearchMessage','true');\n          }\n        } \n\n        console.log(\"COUNTER : \" + resultIndex + \" / \"  + lastResult);\n    \n        $scope.queryTerm = encodeURIComponent(this.parentCtrl.searchService.searchFieldsService._mainSearch);\n    }\n\n    externalSearchMsgOnClick (){\n      console.log(\"It's time to kick ass and chew bubble gum, and I'm all outta gum!\");\n      this.showExternalSiteList = false;\n      this.parentCtrl.storageUtil.localStorage.setItem('viewExternalSearchMessage','false');\n    };\n  \n  }\n\n\n  linkToExternalSearchSystemController.$inject = ['$scope', '$rootScope', '$element']\n  export let linkToExternalSearchSystemConfig = {\n    bindings: {parentCtrl:'<'},\n    controller: linkToExternalSearchSystemController,\n    template:  linkToExternalSearchSystem,\n  }"],"sourceRoot":"/source/"}